diff --git a/output/system_core/c282fe5c-fcf9c96f-3065de2c/libziparchive@zip_archive.no_comments_mergebot.cc b/output/system_core/c282fe5c-fcf9c96f-3065de2c/libziparchive@zip_archive.no_comments_truth.cc
index 0742cb2..8d664d3 100644
--- a/output/system_core/c282fe5c-fcf9c96f-3065de2c/libziparchive@zip_archive.no_comments_mergebot.cc
+++ b/output/system_core/c282fe5c-fcf9c96f-3065de2c/libziparchive@zip_archive.no_comments_truth.cc
@@ -6 +5,0 @@
-#include <log/log.h>
@@ -8,4 +6,0 @@
-#include <utils/Compat.h>
-#include <utils/FileMap.h>
-#include <zlib.h>
-#include <JNIHelp.h>
@@ -18,4 +12,0 @@
-#define DISALLOW_IMPLICIT_CONSTRUCTORS(TypeName) \
-    TypeName(); \
-    TypeName(const TypeName&); \
-    void operator=(const TypeName&)
@@ -32,0 +24,63 @@ using android::base::get_unaligned;
+struct EocdRecord {
+  static const uint32_t kSignature = 0x06054b50;
+  uint32_t eocd_signature;
+  uint16_t disk_num;
+  uint16_t cd_start_disk;
+  uint16_t num_records_on_disk;
+  uint16_t num_records;
+  uint32_t cd_size;
+  uint32_t cd_start_offset;
+  uint16_t comment_length;
+ private:
+  EocdRecord() = default;
+  DISALLOW_COPY_AND_ASSIGN(EocdRecord);
+} __attribute__((packed));
+struct CentralDirectoryRecord {
+  static const uint32_t kSignature = 0x02014b50;
+  uint32_t record_signature;
+  uint16_t version_made_by;
+  uint16_t version_needed;
+  uint16_t gpb_flags;
+  uint16_t compression_method;
+  uint16_t last_mod_time;
+  uint16_t last_mod_date;
+  uint32_t crc32;
+  uint32_t compressed_size;
+  uint32_t uncompressed_size;
+  uint16_t file_name_length;
+  uint16_t extra_field_length;
+  uint16_t comment_length;
+  uint16_t file_start_disk;
+  uint16_t internal_file_attributes;
+  uint32_t external_file_attributes;
+  uint32_t local_file_header_offset;
+ private:
+  CentralDirectoryRecord() = default;
+  DISALLOW_COPY_AND_ASSIGN(CentralDirectoryRecord);
+} __attribute__((packed));
+struct LocalFileHeader {
+  static const uint32_t kSignature = 0x04034b50;
+  uint32_t lfh_signature;
+  uint16_t version_needed;
+  uint16_t gpb_flags;
+  uint16_t compression_method;
+  uint16_t last_mod_time;
+  uint16_t last_mod_date;
+  uint32_t crc32;
+  uint32_t compressed_size;
+  uint32_t uncompressed_size;
+  uint16_t file_name_length;
+  uint16_t extra_field_length;
+ private:
+  LocalFileHeader() = default;
+  DISALLOW_COPY_AND_ASSIGN(LocalFileHeader);
+} __attribute__((packed));
+struct DataDescriptor {
+  static const uint32_t kOptSignature = 0x08074b50;
+  uint32_t crc32;
+  uint32_t compressed_size;
+  uint32_t uncompressed_size;
+ private:
+  DataDescriptor() = default;
+  DISALLOW_COPY_AND_ASSIGN(DataDescriptor);
+} __attribute__((packed));
@@ -73 +127,7 @@ struct ZipArchive {
-  ZipArchive(const int fd, bool assume_ownership): fd(fd), close_file(assume_ownership), directory_offset(0), num_entries(0), hash_table_size(0), hash_table(NULL) {}
+  ZipArchive(const int fd, bool assume_ownership) :
+      fd(fd),
+      close_file(assume_ownership),
+      directory_offset(0),
+      num_entries(0),
+      hash_table_size(0),
+      hash_table(NULL) {}
@@ -100 +160,3 @@ static uint32_t ComputeHash(const ZipEntryName& name) {
-static int64_t EntryToIndex(const ZipEntryName* hash_table, const uint32_t hash_table_size, const ZipEntryName& name) {
+static int64_t EntryToIndex(const ZipEntryName* hash_table,
+                            const uint32_t hash_table_size,
+                            const ZipEntryName& name) {
@@ -272 +333,0 @@ static int32_t ParseZipArchive(ZipArchive* archive) {
-<<<<<<< HEAD
@@ -286,16 +346,0 @@ static int32_t ParseZipArchive(ZipArchive* archive) {
-||||||| 3065de2c8
-=======
-  uint32_t lfh_start_bytes;
-  if (!archive->mapped_zip.ReadAtOffset(reinterpret_cast<uint8_t*>(&lfh_start_bytes),
-                                        sizeof(uint32_t), 0)) {
-    ALOGW("Zip: Unable to read header for entry at offset == 0.");
-    return -1;
-  }
-  if (lfh_start_bytes != LocalFileHeader::kSignature) {
-    ALOGW("Zip: Entry at offset zero has invalid LFH signature %" PRIx32, lfh_start_bytes);
-#if defined(__ANDROID__)
-    android_errorWriteLog(0x534e4554, "64211847");
-#endif
-    return -1;
-  }
->>>>>>> fcf9c96f
@@ -467 +512,6 @@ struct IterationHandle {
-  IterationHandle(const ZipEntryName* prefix_name, const ZipEntryName* suffix_name): prefix(NULL), prefix_len(prefix_name ? prefix_name->name_length : 0), suffix(NULL), suffix_len(suffix_name ? suffix_name->name_length : 0) {
+  IterationHandle(const ZipEntryName* prefix_name,
+                  const ZipEntryName* suffix_name)
+    : prefix(NULL),
+      prefix_len(prefix_name ? prefix_name->name_length : 0),
+      suffix(NULL),
+      suffix_len(suffix_name ? suffix_name->name_length : 0) {
@@ -479 +529 @@ struct IterationHandle {
-  ~IterationHandle() = delete;{
+  ~IterationHandle() {
@@ -484 +534,3 @@ struct IterationHandle {
-int32_t StartIteration(ZipArchiveHandle handle, void** cookie_ptr, const ZipEntryName* optional_prefix, const ZipEntryName* optional_suffix) {
+int32_t StartIteration(ZipArchiveHandle handle, void** cookie_ptr,
+                       const ZipEntryName* optional_prefix,
+                       const ZipEntryName* optional_suffix) {
@@ -552 +604 @@ public:
-  ~Writer(){}
+  virtual ~Writer() {}
@@ -560 +612,2 @@ public:
-  MemoryWriter(uint8_t* buf, size_t size): Writer(), buf_(buf), size_(size), bytes_written_(0) {
+  MemoryWriter(uint8_t* buf, size_t size) : Writer(),
+      buf_(buf), size_(size), bytes_written_(0) {
@@ -620 +673,5 @@ private:
-  FileWriter(const int fd, const size_t declared_length): Writer(), fd_(fd), declared_length_(declared_length), total_bytes_written_(0) {
+  FileWriter(const int fd, const size_t declared_length) :
+      Writer(),
+      fd_(fd),
+      declared_length_(declared_length),
+      total_bytes_written_(0) {
@@ -625,0 +683,2 @@ private:
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wold-style-cast"
@@ -629 +688,3 @@ static inline int zlib_inflateInit2(z_stream* stream, int window_bits) {
-static int32_t InflateEntryToWriter(int fd, const ZipEntry* entry, Writer* writer, uint64_t* crc_out) {
+#pragma GCC diagnostic pop
+static int32_t InflateEntryToWriter(int fd, const ZipEntry* entry,
+                                    Writer* writer, uint64_t* crc_out) {
@@ -698 +759,2 @@ static int32_t InflateEntryToWriter(int fd, const ZipEntry* entry, Writer* write
-static int32_t CopyEntryToWriter(int fd, const ZipEntry* entry, Writer* writer, uint64_t *crc_out) {
+static int32_t CopyEntryToWriter(int fd, const ZipEntry* entry, Writer* writer,
+                                 uint64_t *crc_out) {
@@ -721 +783,2 @@ static int32_t CopyEntryToWriter(int fd, const ZipEntry* entry, Writer* writer,
-int32_t ExtractToWriter(ZipArchiveHandle handle, ZipEntry* entry, Writer* writer) {
+int32_t ExtractToWriter(ZipArchiveHandle handle,
+                        ZipEntry* entry, Writer* writer) {
@@ -770,63 +832,0 @@ int GetFileDescriptor(const ZipArchiveHandle handle) {
-struct EocdRecord {
-  static const uint32_t kSignature = 0x06054b50;
-  uint32_t eocd_signature;
-  uint16_t disk_num;
-  uint16_t cd_start_disk;
-  uint16_t num_records_on_disk;
-  uint16_t num_records;
-  uint32_t cd_size;
-  uint32_t cd_start_offset;
-  uint16_t comment_length;
- private:
-  EocdRecord() = default;
-  DISALLOW_COPY_AND_ASSIGN(EocdRecord);
-} __attribute__((packed));
-struct CentralDirectoryRecord {
-  static const uint32_t kSignature = 0x02014b50;
-  uint32_t record_signature;
-  uint16_t version_made_by;
-  uint16_t version_needed;
-  uint16_t gpb_flags;
-  uint16_t compression_method;
-  uint16_t last_mod_time;
-  uint16_t last_mod_date;
-  uint32_t crc32;
-  uint32_t compressed_size;
-  uint32_t uncompressed_size;
-  uint16_t file_name_length;
-  uint16_t extra_field_length;
-  uint16_t comment_length;
-  uint16_t file_start_disk;
-  uint16_t internal_file_attributes;
-  uint32_t external_file_attributes;
-  uint32_t local_file_header_offset;
- private:
-  CentralDirectoryRecord() = default;
-  DISALLOW_COPY_AND_ASSIGN(CentralDirectoryRecord);
-} __attribute__((packed));
-struct LocalFileHeader {
-  static const uint32_t kSignature = 0x04034b50;
-  uint32_t lfh_signature;
-  uint16_t version_needed;
-  uint16_t gpb_flags;
-  uint16_t compression_method;
-  uint16_t last_mod_time;
-  uint16_t last_mod_date;
-  uint32_t crc32;
-  uint32_t compressed_size;
-  uint32_t uncompressed_size;
-  uint16_t file_name_length;
-  uint16_t extra_field_length;
- private:
-  LocalFileHeader() = default;
-  DISALLOW_COPY_AND_ASSIGN(LocalFileHeader);
-} __attribute__((packed));
-struct DataDescriptor {
-  static const uint32_t kOptSignature = 0x08074b50;
-  uint32_t crc32;
-  uint32_t compressed_size;
-  uint32_t uncompressed_size;
- private:
-  DataDescriptor() = default;
-  DISALLOW_COPY_AND_ASSIGN(DataDescriptor);
-} __attribute__((packed));
