[
  {
    "code": [
      "bool SnapshotManager::UpdateForwardMergeIndicator(bool wipe) {",
      "    if (!wipe) {",
      "        return RemoveFileIfExists(path);",
      "    }",
      "",
      "    LOG(INFO) << \"Wipe will be scheduled. Allowing forward merge of snapshots.\";",
      "    if (!android::base::WriteStringToFile(\"1\", path)) {",
      "        PLOG(ERROR) << \"Unable to write forward merge indicator: \" << path;",
      "        return false;",
      "    }",
      "",
      "    return true;",
      "}",
      "bool SnapshotManager::UpdateForwardMergeIndicator(bool wipe) {",
      "    auto path = GetForwardMergeIndicatorPath();",
      "",
      "    if (!wipe) {",
      "        LOG(INFO) << \"Wipe is not scheduled. Deleting forward merge indicator.\";",
      "        return RemoveFileIfExists(path);",
      "    }",
      "",
      "    // TODO(b/152094219): Don't forward merge if no CoW file is allocated.",
      "",
      "    LOG(INFO) << \"Wipe will be scheduled. Allowing forward merge of snapshots.\";",
      "    if (!android::base::WriteStringToFile(\"1\", path)) {",
      "        PLOG(ERROR) << \"Unable to write forward merge indicator: \" << path;",
      "        return false;",
      "    }",
      "",
      "    return true;",
      "}"
    ],
    "label": "",
    "index": 0,
    "confidence": 0.4,
    "desc": "List merge."
  }
]