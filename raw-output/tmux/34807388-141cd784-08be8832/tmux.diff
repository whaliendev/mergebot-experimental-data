diff --git a/output/tmux/34807388-141cd784-08be8832/tmux.no_comments_mergebot.h b/output/tmux/34807388-141cd784-08be8832/tmux.no_comments_truth.h
index 0c067b9..dd3661e 100644
--- a/output/tmux/34807388-141cd784-08be8832/tmux.no_comments_mergebot.h
+++ b/output/tmux/34807388-141cd784-08be8832/tmux.no_comments_truth.h
@@ -4,5 +3,0 @@
-#include <sys/queue.h>
-#include <sys/tree.h>
-#include <bitstring.h>
-#include <stdint.h>
-#include <event.h>
@@ -75,0 +71 @@ struct winlink;
+#define printflike(a,b) __attribute__ ((format (printf, a, b)))
@@ -104,0 +101,9 @@ struct winlink;
+#define KEYC_IS_MOUSE(key) \
+ (((key) & KEYC_MASK_KEY) >= KEYC_MOUSE && \
+  ((key) & KEYC_MASK_KEY) < KEYC_BSPACE)
+#define KEYC_IS_UNICODE(key) \
+ (((key) & KEYC_MASK_KEY) > 0x7f && \
+  (((key) & KEYC_MASK_KEY) < KEYC_BASE || \
+   ((key) & KEYC_MASK_KEY) >= KEYC_BASE_END) && \
+  (((key) & KEYC_MASK_KEY) < KEYC_USER || \
+   ((key) & KEYC_MASK_KEY) >= KEYC_USER_END))
@@ -105,0 +111,14 @@ struct winlink;
+#define KEYC_MOUSE_KEY(name) \
+ KEYC_ ## name ## _PANE, \
+ KEYC_ ## name ## _STATUS, \
+ KEYC_ ## name ## _STATUS_LEFT, \
+ KEYC_ ## name ## _STATUS_RIGHT, \
+ KEYC_ ## name ## _STATUS_DEFAULT, \
+ KEYC_ ## name ## _BORDER
+#define KEYC_MOUSE_STRING(name,s) \
+ { #s "Pane", KEYC_ ## name ## _PANE }, \
+ { #s "Status", KEYC_ ## name ## _STATUS }, \
+ { #s "StatusLeft", KEYC_ ## name ## _STATUS_LEFT }, \
+ { #s "StatusRight", KEYC_ ## name ## _STATUS_RIGHT }, \
+ { #s "StatusDefault", KEYC_ ## name ## _STATUS_DEFAULT }, \
+ { #s "Border", KEYC_ ## name ## _BORDER }
@@ -108 +127,32 @@ enum {
-C0_NUL,C0_SOH,C0_STX,C0_ETX,C0_EOT,C0_ENQ,C0_ASC,C0_BEL,C0_BS,C0_HT,C0_LF,C0_VT,C0_FF,C0_CR,C0_SO,C0_SI,C0_DLE,C0_DC1,C0_DC2,C0_DC3,C0_DC4,C0_NAK,C0_SYN,C0_ETB,C0_CAN,C0_EM,C0_SUB,C0_ESC,C0_FS,C0_GS,C0_RS, C0_US
+ C0_NUL,
+ C0_SOH,
+ C0_STX,
+ C0_ETX,
+ C0_EOT,
+ C0_ENQ,
+ C0_ASC,
+ C0_BEL,
+ C0_BS,
+ C0_HT,
+ C0_LF,
+ C0_VT,
+ C0_FF,
+ C0_CR,
+ C0_SO,
+ C0_SI,
+ C0_DLE,
+ C0_DC1,
+ C0_DC2,
+ C0_DC3,
+ C0_DC4,
+ C0_NAK,
+ C0_SYN,
+ C0_ETB,
+ C0_CAN,
+ C0_EM,
+ C0_SUB,
+ C0_ESC,
+ C0_FS,
+ C0_GS,
+ C0_RS,
+ C0_US
@@ -228 +278,232 @@ enum tty_code_code {
-TTYC_ACSC,TTYC_AM,TTYC_AX,TTYC_BCE,TTYC_BEL,TTYC_BIDI,TTYC_BLINK,TTYC_BOLD,TTYC_CIVIS,TTYC_CLEAR,TTYC_CLMG,TTYC_CMG,TTYC_CNORM,TTYC_COLORS,TTYC_CR,TTYC_CS,TTYC_CSR,TTYC_CUB,TTYC_CUB1,TTYC_CUD,TTYC_CUD1,TTYC_CUF,TTYC_CUF1,TTYC_CUP,TTYC_CUU,TTYC_CUU1,TTYC_CVVIS,TTYC_DCH,TTYC_DCH1,TTYC_DIM,TTYC_DL,TTYC_DL1,TTYC_DSBP,TTYC_DSEKS,TTYC_DSFCS,TTYC_DSMG,TTYC_E3,TTYC_ECH,TTYC_ED,TTYC_EL,TTYC_EL1,TTYC_ENACS,TTYC_ENBP,TTYC_ENEKS,TTYC_ENFCS,TTYC_ENMG,TTYC_FSL,TTYC_HLS,TTYC_HOME,TTYC_HPA,TTYC_ICH,TTYC_ICH1,TTYC_IL,TTYC_IL1,TTYC_INDN,TTYC_INVIS,TTYC_KCBT,TTYC_KCUB1,TTYC_KCUD1,TTYC_KCUF1,TTYC_KCUU1,TTYC_KDC2,TTYC_KDC3,TTYC_KDC4,TTYC_KDC5,TTYC_KDC6,TTYC_KDC7,TTYC_KDCH1,TTYC_KDN2,TTYC_KDN3,TTYC_KDN4,TTYC_KDN5,TTYC_KDN6,TTYC_KDN7,TTYC_KEND,TTYC_KEND2,TTYC_KEND3,TTYC_KEND4,TTYC_KEND5,TTYC_KEND6,TTYC_KEND7,TTYC_KF1,TTYC_KF10,TTYC_KF11,TTYC_KF12,TTYC_KF13,TTYC_KF14,TTYC_KF15,TTYC_KF16,TTYC_KF17,TTYC_KF18,TTYC_KF19,TTYC_KF2,TTYC_KF20,TTYC_KF21,TTYC_KF22,TTYC_KF23,TTYC_KF24,TTYC_KF25,TTYC_KF26,TTYC_KF27,TTYC_KF28,TTYC_KF29,TTYC_KF3,TTYC_KF30,TTYC_KF31,TTYC_KF32,TTYC_KF33,TTYC_KF34,TTYC_KF35,TTYC_KF36,TTYC_KF37,TTYC_KF38,TTYC_KF39,TTYC_KF4,TTYC_KF40,TTYC_KF41,TTYC_KF42,TTYC_KF43,TTYC_KF44,TTYC_KF45,TTYC_KF46,TTYC_KF47,TTYC_KF48,TTYC_KF49,TTYC_KF5,TTYC_KF50,TTYC_KF51,TTYC_KF52,TTYC_KF53,TTYC_KF54,TTYC_KF55,TTYC_KF56,TTYC_KF57,TTYC_KF58,TTYC_KF59,TTYC_KF6,TTYC_KF60,TTYC_KF61,TTYC_KF62,TTYC_KF63,TTYC_KF7,TTYC_KF8,TTYC_KF9,TTYC_KHOM2,TTYC_KHOM3,TTYC_KHOM4,TTYC_KHOM5,TTYC_KHOM6,TTYC_KHOM7,TTYC_KHOME,TTYC_KIC2,TTYC_KIC3,TTYC_KIC4,TTYC_KIC5,TTYC_KIC6,TTYC_KIC7,TTYC_KICH1,TTYC_KIND,TTYC_KLFT2,TTYC_KLFT3,TTYC_KLFT4,TTYC_KLFT5,TTYC_KLFT6,TTYC_KLFT7,TTYC_KMOUS,TTYC_KNP,TTYC_KNXT2,TTYC_KNXT3,TTYC_KNXT4,TTYC_KNXT5,TTYC_KNXT6,TTYC_KNXT7,TTYC_KPP,TTYC_KPRV2,TTYC_KPRV3,TTYC_KPRV4,TTYC_KPRV5,TTYC_KPRV6,TTYC_KPRV7,TTYC_KRI,TTYC_KRIT2,TTYC_KRIT3,TTYC_KRIT4,TTYC_KRIT5,TTYC_KRIT6,TTYC_KRIT7,TTYC_KUP2,TTYC_KUP3,TTYC_KUP4,TTYC_KUP5,TTYC_KUP6,TTYC_KUP7,TTYC_MS,TTYC_NOBR,TTYC_OL,TTYC_OP,TTYC_RECT,TTYC_REV,TTYC_RGB,TTYC_RI,TTYC_RIN,TTYC_RMACS,TTYC_RMCUP,TTYC_RMKX,TTYC_SE,TTYC_SETAB,TTYC_SETAF,TTYC_SETAL,TTYC_SETRGBB,TTYC_SETRGBF,TTYC_SETULC,TTYC_SETULC1,TTYC_SGR0,TTYC_SITM,TTYC_SMACS,TTYC_SMCUP,TTYC_SMKX,TTYC_SMOL,TTYC_SMSO,TTYC_SMUL,TTYC_SMULX,TTYC_SMXX,TTYC_SXL,TTYC_SS,TTYC_SWD,TTYC_SYNC,TTYC_TC,TTYC_TSL,TTYC_U8,TTYC_VPA, TTYC_XT
+ TTYC_ACSC,
+ TTYC_AM,
+ TTYC_AX,
+ TTYC_BCE,
+ TTYC_BEL,
+ TTYC_BIDI,
+ TTYC_BLINK,
+ TTYC_BOLD,
+ TTYC_CIVIS,
+ TTYC_CLEAR,
+ TTYC_CLMG,
+ TTYC_CMG,
+ TTYC_CNORM,
+ TTYC_COLORS,
+ TTYC_CR,
+ TTYC_CS,
+ TTYC_CSR,
+ TTYC_CUB,
+ TTYC_CUB1,
+ TTYC_CUD,
+ TTYC_CUD1,
+ TTYC_CUF,
+ TTYC_CUF1,
+ TTYC_CUP,
+ TTYC_CUU,
+ TTYC_CUU1,
+ TTYC_CVVIS,
+ TTYC_DCH,
+ TTYC_DCH1,
+ TTYC_DIM,
+ TTYC_DL,
+ TTYC_DL1,
+ TTYC_DSBP,
+ TTYC_DSEKS,
+ TTYC_DSFCS,
+ TTYC_DSMG,
+ TTYC_E3,
+ TTYC_ECH,
+ TTYC_ED,
+ TTYC_EL,
+ TTYC_EL1,
+ TTYC_ENACS,
+ TTYC_ENBP,
+ TTYC_ENEKS,
+ TTYC_ENFCS,
+ TTYC_ENMG,
+ TTYC_FSL,
+ TTYC_HLS,
+ TTYC_HOME,
+ TTYC_HPA,
+ TTYC_ICH,
+ TTYC_ICH1,
+ TTYC_IL,
+ TTYC_IL1,
+ TTYC_INDN,
+ TTYC_INVIS,
+ TTYC_KCBT,
+ TTYC_KCUB1,
+ TTYC_KCUD1,
+ TTYC_KCUF1,
+ TTYC_KCUU1,
+ TTYC_KDC2,
+ TTYC_KDC3,
+ TTYC_KDC4,
+ TTYC_KDC5,
+ TTYC_KDC6,
+ TTYC_KDC7,
+ TTYC_KDCH1,
+ TTYC_KDN2,
+ TTYC_KDN3,
+ TTYC_KDN4,
+ TTYC_KDN5,
+ TTYC_KDN6,
+ TTYC_KDN7,
+ TTYC_KEND,
+ TTYC_KEND2,
+ TTYC_KEND3,
+ TTYC_KEND4,
+ TTYC_KEND5,
+ TTYC_KEND6,
+ TTYC_KEND7,
+ TTYC_KF1,
+ TTYC_KF10,
+ TTYC_KF11,
+ TTYC_KF12,
+ TTYC_KF13,
+ TTYC_KF14,
+ TTYC_KF15,
+ TTYC_KF16,
+ TTYC_KF17,
+ TTYC_KF18,
+ TTYC_KF19,
+ TTYC_KF2,
+ TTYC_KF20,
+ TTYC_KF21,
+ TTYC_KF22,
+ TTYC_KF23,
+ TTYC_KF24,
+ TTYC_KF25,
+ TTYC_KF26,
+ TTYC_KF27,
+ TTYC_KF28,
+ TTYC_KF29,
+ TTYC_KF3,
+ TTYC_KF30,
+ TTYC_KF31,
+ TTYC_KF32,
+ TTYC_KF33,
+ TTYC_KF34,
+ TTYC_KF35,
+ TTYC_KF36,
+ TTYC_KF37,
+ TTYC_KF38,
+ TTYC_KF39,
+ TTYC_KF4,
+ TTYC_KF40,
+ TTYC_KF41,
+ TTYC_KF42,
+ TTYC_KF43,
+ TTYC_KF44,
+ TTYC_KF45,
+ TTYC_KF46,
+ TTYC_KF47,
+ TTYC_KF48,
+ TTYC_KF49,
+ TTYC_KF5,
+ TTYC_KF50,
+ TTYC_KF51,
+ TTYC_KF52,
+ TTYC_KF53,
+ TTYC_KF54,
+ TTYC_KF55,
+ TTYC_KF56,
+ TTYC_KF57,
+ TTYC_KF58,
+ TTYC_KF59,
+ TTYC_KF6,
+ TTYC_KF60,
+ TTYC_KF61,
+ TTYC_KF62,
+ TTYC_KF63,
+ TTYC_KF7,
+ TTYC_KF8,
+ TTYC_KF9,
+ TTYC_KHOM2,
+ TTYC_KHOM3,
+ TTYC_KHOM4,
+ TTYC_KHOM5,
+ TTYC_KHOM6,
+ TTYC_KHOM7,
+ TTYC_KHOME,
+ TTYC_KIC2,
+ TTYC_KIC3,
+ TTYC_KIC4,
+ TTYC_KIC5,
+ TTYC_KIC6,
+ TTYC_KIC7,
+ TTYC_KICH1,
+ TTYC_KIND,
+ TTYC_KLFT2,
+ TTYC_KLFT3,
+ TTYC_KLFT4,
+ TTYC_KLFT5,
+ TTYC_KLFT6,
+ TTYC_KLFT7,
+ TTYC_KMOUS,
+ TTYC_KNP,
+ TTYC_KNXT2,
+ TTYC_KNXT3,
+ TTYC_KNXT4,
+ TTYC_KNXT5,
+ TTYC_KNXT6,
+ TTYC_KNXT7,
+ TTYC_KPP,
+ TTYC_KPRV2,
+ TTYC_KPRV3,
+ TTYC_KPRV4,
+ TTYC_KPRV5,
+ TTYC_KPRV6,
+ TTYC_KPRV7,
+ TTYC_KRI,
+ TTYC_KRIT2,
+ TTYC_KRIT3,
+ TTYC_KRIT4,
+ TTYC_KRIT5,
+ TTYC_KRIT6,
+ TTYC_KRIT7,
+ TTYC_KUP2,
+ TTYC_KUP3,
+ TTYC_KUP4,
+ TTYC_KUP5,
+ TTYC_KUP6,
+ TTYC_KUP7,
+ TTYC_MS,
+ TTYC_NOBR,
+ TTYC_OL,
+ TTYC_OP,
+ TTYC_RECT,
+ TTYC_REV,
+ TTYC_RGB,
+ TTYC_RI,
+ TTYC_RIN,
+ TTYC_RMACS,
+ TTYC_RMCUP,
+ TTYC_RMKX,
+ TTYC_SE,
+ TTYC_SETAB,
+ TTYC_SETAF,
+ TTYC_SETAL,
+ TTYC_SETRGBB,
+ TTYC_SETRGBF,
+ TTYC_SETULC,
+ TTYC_SETULC1,
+ TTYC_SGR0,
+ TTYC_SITM,
+ TTYC_SMACS,
+ TTYC_SMCUP,
+ TTYC_SMKX,
+ TTYC_SMOL,
+ TTYC_SMSO,
+ TTYC_SMUL,
+ TTYC_SMULX,
+ TTYC_SMXX,
+ TTYC_SXL,
+ TTYC_SS,
+ TTYC_SWD,
+ TTYC_SYNC,
+ TTYC_TC,
+ TTYC_TSL,
+ TTYC_U8,
+ TTYC_VPA,
+ TTYC_XT
@@ -270 +551,3 @@ enum utf8_state {
-UTF8_MORE,UTF8_DONE, UTF8_ERROR
+ UTF8_MORE,
+ UTF8_DONE,
+ UTF8_ERROR
@@ -273,0 +557 @@ UTF8_MORE,UTF8_DONE, UTF8_ERROR
+#define COLOUR_DEFAULT(c) ((c) == 8 || (c) == 9)
@@ -342,22 +626,3 @@ struct grid_cell {
-struct grid_cell_entry {
- union {
-  u_int offset;
-  struct {
-   u_char attr;
-   u_char fg;
-   u_char bg;
-   u_char data;
-  } data;
- };
- u_char flags;
-} __packed;
-struct grid_cell_entry {
- union {
-  u_int offset;
-  struct {
-   u_char attr;
-   u_char fg;
-   u_char bg;
-   u_char data;
-  } data;
- };
+struct grid_extd_entry {
+ utf8_char data;
+ u_short attr;
@@ -364,0 +630,4 @@ struct grid_cell_entry {
+ int fg;
+ int bg;
+ int us;
+ u_int link;
@@ -403 +672,5 @@ enum style_align {
-STYLE_ALIGN_DEFAULT,STYLE_ALIGN_LEFT,STYLE_ALIGN_CENTRE,STYLE_ALIGN_RIGHT, STYLE_ALIGN_ABSOLUTE_CENTRE
+ STYLE_ALIGN_DEFAULT,
+ STYLE_ALIGN_LEFT,
+ STYLE_ALIGN_CENTRE,
+ STYLE_ALIGN_RIGHT,
+ STYLE_ALIGN_ABSOLUTE_CENTRE
@@ -406 +679,6 @@ enum style_list {
-STYLE_LIST_OFF,STYLE_LIST_ON,STYLE_LIST_FOCUS,STYLE_LIST_LEFT_MARKER,STYLE_LIST_RIGHT_MARKER,};
+ STYLE_LIST_OFF,
+ STYLE_LIST_ON,
+ STYLE_LIST_FOCUS,
+ STYLE_LIST_LEFT_MARKER,
+ STYLE_LIST_RIGHT_MARKER,
+};
@@ -408 +686,7 @@ enum style_range_type {
-STYLE_RANGE_NONE,STYLE_RANGE_LEFT,STYLE_RANGE_RIGHT,STYLE_RANGE_PANE,STYLE_RANGE_WINDOW,STYLE_RANGE_SESSION, STYLE_RANGE_USER
+ STYLE_RANGE_NONE,
+ STYLE_RANGE_LEFT,
+ STYLE_RANGE_RIGHT,
+ STYLE_RANGE_PANE,
+ STYLE_RANGE_WINDOW,
+ STYLE_RANGE_SESSION,
+ STYLE_RANGE_USER
@@ -417,0 +702 @@ u_int end;
+TAILQ_HEAD(style_ranges, style_range);
@@ -419 +704,3 @@ enum style_default_type {
-STYLE_DEFAULT_BASE,STYLE_DEFAULT_PUSH, STYLE_DEFAULT_POP
+ STYLE_DEFAULT_BASE,
+ STYLE_DEFAULT_PUSH,
+ STYLE_DEFAULT_POP
@@ -447 +734,4 @@ enum screen_cursor_style {
-SCREEN_CURSOR_DEFAULT,SCREEN_CURSOR_BLOCK,SCREEN_CURSOR_UNDERLINE, SCREEN_CURSOR_BAR
+ SCREEN_CURSOR_DEFAULT,
+ SCREEN_CURSOR_BLOCK,
+ SCREEN_CURSOR_UNDERLINE,
+ SCREEN_CURSOR_BAR
@@ -493 +783,8 @@ enum box_lines {
-BOX_LINES_DEFAULT = -1,BOX_LINES_SINGLE,BOX_LINES_DOUBLE,BOX_LINES_HEAVY,BOX_LINES_SIMPLE,BOX_LINES_ROUNDED,BOX_LINES_PADDED, BOX_LINES_NONE
+ BOX_LINES_DEFAULT = -1,
+ BOX_LINES_SINGLE,
+ BOX_LINES_DOUBLE,
+ BOX_LINES_HEAVY,
+ BOX_LINES_SIMPLE,
+ BOX_LINES_ROUNDED,
+ BOX_LINES_PADDED,
+ BOX_LINES_NONE
@@ -496 +793,5 @@ enum pane_lines {
-PANE_LINES_SINGLE,PANE_LINES_DOUBLE,PANE_LINES_HEAVY,PANE_LINES_SIMPLE, PANE_LINES_NUMBER
+ PANE_LINES_SINGLE,
+ PANE_LINES_DOUBLE,
+ PANE_LINES_HEAVY,
+ PANE_LINES_SIMPLE,
+ PANE_LINES_NUMBER
@@ -517,0 +819,4 @@ struct screen_redraw_ctx {
+#define screen_size_x(s) ((s)->grid->sx)
+#define screen_size_y(s) ((s)->grid->sy)
+#define screen_hsize(s) ((s)->grid->hsize)
+#define screen_hlimit(s) ((s)->grid->hlimit)
@@ -567,0 +873 @@ TAILQ_ENTRY(window_pane_resize) entry;
+TAILQ_HEAD(window_pane_resizes, window_pane_resize);
@@ -624,6 +930,3 @@ struct window_pane {
-                       tree_entry;
-                       tree_entry;
-                    entry;
-                       tree_entry;
-                       tree_entry;
-                       tree_entry;
+ TAILQ_ENTRY(window_pane) entry;
+ TAILQ_ENTRY(window_pane) sentry;
+ RB_ENTRY(window_pane) tree_entry;
@@ -630,0 +934,2 @@ struct window_pane {
+TAILQ_HEAD(window_panes, window_pane);
+RB_HEAD(window_pane_tree, window_pane);
@@ -670,0 +976,3 @@ struct window {
+ RB_ENTRY(window) entry;
+};
+RB_HEAD(windows, window);
@@ -681 +989 @@ struct winlink {
- TAILQ_ENTRY(winlink) sentry;
+ RB_ENTRY(winlink) entry;
@@ -684,0 +993,2 @@ struct winlink {
+RB_HEAD(winlinks, winlink);
+TAILQ_HEAD(winlink_stack, winlink);
@@ -693 +1003,3 @@ enum layout_type {
-LAYOUT_LEFTRIGHT,LAYOUT_TOPBOTTOM, LAYOUT_WINDOWPANE
+ LAYOUT_LEFTRIGHT,
+ LAYOUT_TOPBOTTOM,
+ LAYOUT_WINDOWPANE
@@ -694,0 +1007 @@ LAYOUT_LEFTRIGHT,LAYOUT_TOPBOTTOM, LAYOUT_WINDOWPANE
+TAILQ_HEAD(layout_cells, layout_cell);
@@ -711,3 +1024 @@ struct environ_entry {
-                         entry;
-                         entry;
-                         entry;
+ RB_ENTRY(environ_entry) entry;
@@ -718,3 +1029 @@ struct session_group {
-                          entry;
-                          entry;
-                          entry;
+ RB_ENTRY(session_group) entry;
@@ -721,0 +1031 @@ struct session_group {
+RB_HEAD(session_groups, session_group);
@@ -744,2 +1054 @@ struct session {
- RB_ENTRY(session) entry;
- RB_ENTRY(session) entry;
+ TAILQ_ENTRY(session) gentry;
@@ -747,0 +1057 @@ struct session {
+RB_HEAD(sessions, session);
@@ -764,0 +1075,6 @@ struct session {
+#define MOUSE_BUTTONS(b) ((b) & MOUSE_MASK_BUTTONS)
+#define MOUSE_WHEEL(b) \
+ (((b) & MOUSE_MASK_BUTTONS) == MOUSE_WHEEL_UP || \
+  ((b) & MOUSE_MASK_BUTTONS) == MOUSE_WHEEL_DOWN)
+#define MOUSE_DRAG(b) ((b) & MOUSE_MASK_DRAG)
+#define MOUSE_RELEASE(b) (((b) & MOUSE_MASK_BUTTONS) == 3)
@@ -793 +1109 @@ struct tty_term {
- LIST_ENTRY(tty_term) entry;
+ char acs[UCHAR_MAX + 1][2];
@@ -804,0 +1121 @@ struct tty_term {
+LIST_HEAD(tty_terms, tty_term);
@@ -903,0 +1221 @@ struct message_entry {
+TAILQ_HEAD(message_list, message_entry);
@@ -905 +1223,3 @@ enum args_type {
-ARGS_NONE,ARGS_STRING, ARGS_COMMANDS
+ ARGS_NONE,
+ ARGS_STRING,
+ ARGS_COMMANDS
@@ -916,0 +1237 @@ struct args_entry;
+RB_HEAD(args_tree, args_entry);
@@ -918 +1239,4 @@ enum args_parse_type {
-ARGS_PARSE_INVALID,ARGS_PARSE_STRING,ARGS_PARSE_COMMANDS_OR_STRING, ARGS_PARSE_COMMANDS
+ ARGS_PARSE_INVALID,
+ ARGS_PARSE_STRING,
+ ARGS_PARSE_COMMANDS_OR_STRING,
+ ARGS_PARSE_COMMANDS
@@ -928 +1252,4 @@ enum cmd_find_type {
-CMD_FIND_PANE,CMD_FIND_WINDOW,CMD_FIND_SESSION,};
+ CMD_FIND_PANE,
+ CMD_FIND_WINDOW,
+ CMD_FIND_SESSION,
+};
@@ -951 +1278,4 @@ enum cmd_retval {
-CMD_RETURN_ERROR = -1,CMD_RETURN_NORMAL = 0,CMD_RETURN_WAIT, CMD_RETURN_STOP
+ CMD_RETURN_ERROR = -1,
+ CMD_RETURN_NORMAL = 0,
+ CMD_RETURN_WAIT,
+ CMD_RETURN_STOP
@@ -954 +1284,2 @@ enum cmd_parse_status {
-CMD_PARSE_ERROR, CMD_PARSE_SUCCESS
+ CMD_PARSE_ERROR,
+ CMD_PARSE_SUCCESS
@@ -1014 +1345,5 @@ enum prompt_type {
-PROMPT_TYPE_COMMAND,PROMPT_TYPE_SEARCH,PROMPT_TYPE_TARGET,PROMPT_TYPE_WINDOW_TARGET, PROMPT_TYPE_INVALID = 0xff
+ PROMPT_TYPE_COMMAND,
+ PROMPT_TYPE_SEARCH,
+ PROMPT_TYPE_TARGET,
+ PROMPT_TYPE_WINDOW_TARGET,
+ PROMPT_TYPE_INVALID = 0xff
@@ -1033,0 +1369 @@ struct client_file {
+RB_HEAD(client_files, client_file);
@@ -1040,0 +1377 @@ struct client_window {
+RB_HEAD(client_windows, client_window);
@@ -1200,0 +1538 @@ struct client {
+TAILQ_HEAD(clients, client);
@@ -1202 +1540,5 @@ enum control_sub_type {
-CONTROL_SUB_SESSION,CONTROL_SUB_PANE,CONTROL_SUB_ALL_PANES,CONTROL_SUB_WINDOW, CONTROL_SUB_ALL_WINDOWS
+ CONTROL_SUB_SESSION,
+ CONTROL_SUB_PANE,
+ CONTROL_SUB_ALL_PANES,
+ CONTROL_SUB_WINDOW,
+ CONTROL_SUB_ALL_WINDOWS
@@ -1211,0 +1554 @@ struct key_binding {
+RB_HEAD(key_bindings, key_binding);
@@ -1218,0 +1562,2 @@ struct key_table {
+RB_HEAD(key_tables, key_table);
+RB_HEAD(options_array, options_array_item);
@@ -1227 +1572,7 @@ enum options_table_type {
-OPTIONS_TABLE_STRING,OPTIONS_TABLE_NUMBER,OPTIONS_TABLE_KEY,OPTIONS_TABLE_COLOUR,OPTIONS_TABLE_FLAG,OPTIONS_TABLE_CHOICE, OPTIONS_TABLE_COMMAND
+ OPTIONS_TABLE_STRING,
+ OPTIONS_TABLE_NUMBER,
+ OPTIONS_TABLE_KEY,
+ OPTIONS_TABLE_COLOUR,
+ OPTIONS_TABLE_FLAG,
+ OPTIONS_TABLE_CHOICE,
+ OPTIONS_TABLE_COMMAND
@@ -1768,0 +2120 @@ struct cmdq_item *cmdq_get_command(struct cmd_list *, struct cmdq_state *);
+#define cmdq_get_callback(cb,data) cmdq_get_callback1(#cb, cb, data)
@@ -1807,0 +2160 @@ int file_cmp(struct client_file *, struct client_file *);
+RB_PROTOTYPE(client_files, client_file, entry, file_cmp);
@@ -1837,5 +2190,5 @@ void file_read_cancel(struct client_files *, struct imsg *);
-struct tmuxproc *server_proc;
-struct clients clients;
-struct cmd_find_state marked_pane;
-struct message_list message_log;
-time_t current_time;
+extern struct tmuxproc *server_proc;
+extern struct clients clients;
+extern struct cmd_find_state marked_pane;
+extern struct message_list message_log;
+extern time_t current_time;
@@ -1853,0 +2207 @@ int server_create_socket(uint64_t, char **);
+RB_PROTOTYPE(client_windows, client_window, entry, server_client_window_cmp);
@@ -2146,0 +2501 @@ int window_cmp(struct window *, struct window *);
+RB_PROTOTYPE(windows, window, entry, window_cmp);
@@ -2147,0 +2503 @@ int winlink_cmp(struct winlink *, struct winlink *);
+RB_PROTOTYPE(winlinks, winlink, entry, winlink_cmp);
@@ -2148,0 +2505 @@ int window_pane_cmp(struct window_pane *, struct window_pane *);
+RB_PROTOTYPE(window_pane_tree, window_pane, tree_entry, window_pane_cmp);
@@ -2364,0 +2722 @@ int session_cmp(struct session *, struct session *);
+RB_PROTOTYPE(sessions, session, entry, session_cmp);
